{{ define "main" }}
<article>
  <header>
    <h1>{{ .Title }}</h1>

    <!-- Author Avatar -->
    {{- if .Params.avatar }}
    <img src="{{ .Params.avatar }}" alt="{{ .Title }}" style="width: 150px; height: 150px; border-radius: 50%;">
    {{- end }}

    <!-- Author Bio -->
    <p>{{ .Params.bio }}</p>

    <!-- Social Links -->
    <ul>
      {{- if .Params.social.github }}
      <li><a href="{{ .Params.social.github }}" target="_blank">GitHub</a></li>
      {{- end }}
      {{- if .Params.social.twitter }}
      <li><a href="{{ .Params.social.twitter }}" target="_blank">Twitter</a></li>
      {{- end }}
    </ul>
  </header>

  <!-- Custom Author Content -->
  <section>
    {{ .Content }} <!-- This renders additional content written in the _index.md file -->
  </section>

  <!-- List of Posts by the Author -->
  <section>
    <h2>Posts by {{ .Title }}</h2>
    <ul>
      {{ range where .Site.RegularPages "Params.author" (lower .Title) }}
        <li>
          <a href="{{ .Permalink }}">{{ .Title }}</a>
          <small>{{ .Date.Format "Jan 2, 2006" }}</small>
        </li>
      {{ end }}
    </ul>
  </section>
</article>
{{ end }}
